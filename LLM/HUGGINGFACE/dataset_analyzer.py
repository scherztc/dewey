# !pip install openai
# !pip install matplotlib
# !pip install seaborn

import os
from openai import OpenAI
from dotenv import load_dotenv
load_dotenv()

# OpenAI

client_openai = OpenAI (
		    api_key = os.getenv("OpenAI_token"),
                )

# LM Studio

# client_lmstudio = OpenAI (
#		    base_url = "http://localhost:1234/v1"
#                )


clients = { 
     "gpt-40-mini": client_openai,
#     "meta-llama-3.1-8b-instruct": client_lmstudio
     }

for client_name, client in clients.items():
    print (client_name, client)

messages.apend(
{
 'role':'user'
 'content':'prompt'
})

for client_name, client in clients.items():
   completion = client.chat.completions.create( 
      model = client_name,
      messagses = messages,
      max_tokens = 1024,
      temperature = 0
   )

print(f"Code generated by {client_name}")
response = completion.choices[0].message.content
pattern = re.compile(r'```python\s*([\s\S]*)\n```')
match = pattern.search(response)

if match:
   extracted_content = match.group(1)
   print('*'*50, '\n', extracted_content, '\n', '*'*50)
   if extracted_content.count('\n') > 1:
       exec(extracted_content)
   else:
       display(eval(extracted_content))
else:
   print("No content found.")
       
